From e128b9cc85fbebb1fdc2de2f3771e9a4b8b27d9b Mon Sep 17 00:00:00 2001
From: Vincent Rabaud <vincent.rabaud@gmail.com>
Date: Sat, 16 May 2015 09:11:09 +0200
Subject: [PATCH 2/2] have it work in a workspace

---
 CMakeLists.txt           | 2 +-
 libqicore/CMakeLists.txt | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index 6aa917f..9739930 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -6,7 +6,7 @@ find_package(catkin REQUIRED naoqi_libqi)
 find_package(Boost)
 
 catkin_package(LIBRARIES qicore
-  INCLUDE ./
+  INCLUDE_DIRS ${CMAKE_CURRENT_SOURCE_DIR}/libqicore/
   DEPENDS Boost
 )
 
diff --git a/libqicore/CMakeLists.txt b/libqicore/CMakeLists.txt
index fcf0f67..c702674 100644
--- a/libqicore/CMakeLists.txt
+++ b/libqicore/CMakeLists.txt
@@ -1,6 +1,6 @@
 ## Copyright (c) 2012, 2014 Aldebaran Robotics. All rights reserved.
 
-include_directories(".")
+include_directories("." ${catkin_INCLUDE_DIRS})
 
 set(PUBLIC_HEADERS
     qicore/api.hpp
-- 
2.1.4

